<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Pay — Quick</title>
<style>
  :root{--bg:#0b0f14;--card:#111826;--ink:#eef3fb;--muted:#9fb0c5;--line:#1e2a3c;--accent:#4dd1a7}
  *{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--ink);font:16px/1.55 Inter,system-ui,Segoe UI,Roboto}
  .wrap{max-width:820px;margin:28px auto;padding:0 14px}
  .card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:16px;box-shadow:0 6px 18px rgba(0,0,0,.28)}
  .stack{display:grid;gap:12px} .row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
  h1{margin:0 0 8px;font-size:26px} p.lead{margin:0 0 16px;color:var(--muted)}
  code.badge{display:inline-block;padding:10px 12px;border:1px solid var(--line);background:#0a111b;border-radius:10px;font-family:ui-monospace,Menlo,monospace}
  .btn{cursor:pointer;border:1px solid var(--line);background:#0f1621;color:var(--ink);padding:10px 14px;border-radius:10px}
  .btn:hover{border-color:#2a3e58} .btn.primary{background:var(--accent);color:#00120e;border-color:transparent;font-weight:600}
  .qr{width:220px;height:220px;border-radius:12px;background:#0a111b;border:1px solid var(--line)}
  .two{display:grid;grid-template-columns:1fr;gap:14px} @media(min-width:720px){.two{grid-template-columns:220px 1fr}}
  footer{margin:20px 0;color:var(--muted);text-align:center}
</style>
</head>
<body>
<main class="wrap stack">
  <section class="card stack">
    <h1>Quick Pay</h1>
    <p class="lead">Use UPI or Litecoin. For custom amounts with a shareable link, use <a href="./new.html">Create invoice</a>.</p>
    <!-- UPI quick -->
    <div class="card stack">
      <h3 style="margin:0">UPI</h3>
      <div class="two">
        <img id="upiQR" class="qr" alt="UPI QR">
        <div class="stack">
          <div class="row"><code class="badge" id="upiId">ullasfr@fam</code><button class="btn" data-copy="#upiId">Copy</button></div>
          <div class="row">
            <input id="upiAmt" type="number" step="0.01" min="0" placeholder="Amount (INR)" style="padding:10px;border-radius:10px;border:1px solid var(--line);background:#0f1621;color:var(--ink);width:160px">
            <button class="btn primary" id="upiOpen">Open UPI app</button>
          </div>
        </div>
      </div>
    </div>
    <!-- LTC quick -->
    <div class="card stack">
      <h3 style="margin:0">Litecoin</h3>
      <div class="two">
        <img id="ltcQR" class="qr" alt="LTC QR">
        <div class="stack">
          <div class="row"><code class="badge" id="ltcAddr">ltc1qf744fuu8uzsr9rplsns9sprv9nx3e9l4vxj50z</code><button class="btn" data-copy="#ltcAddr">Copy</button></div>
          <div class="row">
            <input id="usdAmt" type="number" step="0.01" min="0" placeholder="Amount (USD)" style="padding:10px;border-radius:10px;border:1px solid var(--line);background:#0f1621;color:var(--ink);width:160px">
            <button class="btn primary" id="ltcOpen">Open wallet</button>
            <span id="rate" style="color:var(--muted);font-size:13px"></span>
          </div>
        </div>
      </div>
    </div>
    <!-- Create Invoice -->
    <div class="row" style="justify-content:flex-end">
      <a class="btn" href="./new.html">Create invoice →</a>
    </div>
  </section>

  <section class="card row" style="justify-content:center">
    <a class="btn" href="mailto:support@ullas.shop">Contact support — support@ullas.shop</a>
  </section>

  <footer>&copy; <span id="yr"></span></footer>
</main>

<script>
  const UPI_ID="ullasfr@fam", UPI_NAME="Ullas A", LTC_ADDR="ltc1qf744fuu8uzsr9rplsns9sprv9nx3e9l4vxj50z";
  const $=id=>document.getElementById(id); const qr=(d)=>`https://api.qrserver.com/v1/create-qr-code/?size=260x260&data=${encodeURIComponent(d)}`;
  $("yr").textContent=new Date().getFullYear();
  // UPI quick
  function upiURI(am){const p=new URLSearchParams({pa:UPI_ID,pn:UPI_NAME,cu:"INR"});if(am)p.set("am",am);return `upi://pay?${p}`;}
  const setUpi=()=>{const am=$("upiAmt").value.trim();const uri=upiURI(am);$("upiQR").src=qr(uri);$("upiOpen").onclick=()=>location.href=uri;};
  $("upiAmt").addEventListener("input",setUpi); setUpi();
  // LTC quick (USD->LTC live)
  let ltcUsd=null; async function price(){try{const r=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=litecoin&vs_currencies=usd",{cache:"no-store"});const j=await r.json();ltcUsd=j?.litecoin?.usd||null;$("rate").textContent=ltcUsd?`1 LTC ≈ $${ltcUsd.toFixed(2)}`:"";}catch{}}
  price(); setInterval(price,120000);
  function ltcURI(usd){const ltc=ltcUsd?Math.max(0,(Number(usd)||0)/ltcUsd):0;const a=new URLSearchParams({amount:ltc.toFixed(8)});return `litecoin:${LTC_ADDR}?${a}`;}
  const setLtc=()=>{const usd=$("usdAmt").value.trim();const uri=ltcURI(usd);$("ltcQR").src=qr(uri);$("ltcOpen").onclick=()=>location.href=uri;};
  $("usdAmt").addEventListener("input",setLtc); setLtc();
  // copy
  document.querySelectorAll("[data-copy]").forEach(b=>b.addEventListener("click",async()=>{const s=b.getAttribute("data-copy");const t=document.querySelector(s).textContent.trim();try{await navigator.clipboard.writeText(t);b.textContent="Copied!";setTimeout(()=>b.textContent="Copy",1200);}catch{}}));
</script>
</body>
</html>
